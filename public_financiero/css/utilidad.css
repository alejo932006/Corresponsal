body { font-family: 'Roboto', sans-serif; background-color: #f0f2f5; margin: 0; }

/* Navbar Azul Oscuro Moderno */
.navbar { 
    background: #263238; color: white; padding: 15px 30px; 
    display: flex; justify-content: space-between; align-items: center; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.brand { font-size: 1.3rem; font-weight: bold; display: flex; align-items: center; gap: 10px; }
.logo-circle { background: white; color: #263238; width: 35px; height: 35px; border-radius: 50%; display: flex; justify-content: center; align-items: center; }

.nav-links { flex-grow: 1; display: flex; justify-content: center; }
.nav-item { text-decoration: none; color: white; background: rgba(255,255,255,0.1); padding: 8px 20px; border-radius: 20px; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: 0.3s; }
.nav-item:hover { background: rgba(255,255,255,0.2); }

.user-info { display: flex; gap: 15px; font-weight: 500; align-items: center; color: #cfd8dc; }
.btn-logout { background: none; border: none; color: white; font-size: 1.1rem; cursor: pointer; }

.container { max-width: 1100px; margin: 30px auto; padding: 0 20px; }
.section-title { color: #37474f; margin-bottom: 20px; font-weight: 300; border-left: 5px solid #263238; padding-left: 15px; }

/* GRID DASHBOARD */
.pnl-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

/* TARJETAS DEL DASHBOARD */
.card-pnl {
    background: white; 
    border-radius: 12px; 
    padding: 15px; /* Reduje un poco el padding para dar más espacio al contenido */
    display: flex; 
    align-items: center; 
    gap: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    transition: transform 0.2s;
    
    /* ESTO ES CLAVE: Evita que la tarjeta se expanda más allá de la grilla */
    min-width: 0; 
    overflow: hidden; 
}

.icon-pnl {
    width: 50px; height: 50px; /* Un poco más pequeños para ganar espacio */
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    font-size: 1.5rem; color: white; 
    flex-shrink: 0; /* Evita que el ícono se aplaste */
}

.info-pnl {
    /* ESTO ES CLAVE: Ocupa todo el espacio restante pero respeta los límites */
    flex: 1;
    min-width: 0; /* Truco de Flexbox para permitir que el texto se encoja/salte */
}

/* Ajuste de Texto en Tarjetas */
.info-pnl h2 { 
    margin: 0; 
    font-weight: 700;
    color: #333;
    
    /* CAMBIO AQUÍ: Redujimos los valores del clamp */
    /* Mínimo 1rem (16px), Ideal 2.5vw, Máximo 1.5rem (24px) */
    font-size: clamp(1rem, 2.5vw, 1.5rem); 
    
    /* Aseguramos que si es gigante, baje de línea */
    overflow-wrap: break-word; 
    word-break: break-word; 
    
    line-height: 1.2; 
}

/* Opcional: Reducir también un poco el título de arriba (VENTAS, COSTOS...) */
.info-pnl span { 
    display: block; 
    font-size: 0.7rem; /* Antes era 0.75rem */
    font-weight: bold; 
    opacity: 0.7; 
    letter-spacing: 0.5px; 
    margin-bottom: 3px; 
    white-space: nowrap; 
    overflow: hidden;
    text-overflow: ellipsis; 
}

/* Colores Específicos */
.sales .icon-pnl { background: linear-gradient(135deg, #66bb6a, #43a047); }
.sales { border-bottom: 4px solid #43a047; }
.sales h2 { color: #2e7d32; }

.costs .icon-pnl { background: linear-gradient(135deg, #ffa726, #fb8c00); }
.costs { border-bottom: 4px solid #fb8c00; }
.costs h2 { color: #ef6c00; }

.expenses .icon-pnl { background: linear-gradient(135deg, #ef5350, #e53935); }
.expenses { border-bottom: 4px solid #e53935; }
.expenses h2 { color: #c62828; }

.profit .icon-pnl { background: linear-gradient(135deg, #42a5f5, #1e88e5); }
.profit { border-bottom: 4px solid #1e88e5; }
.profit h2 { color: #1565c0; }

/* FORMULARIO */
.form-container { background: white; padding: 25px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
.form-container h3 { margin-top: 0; color: #455a64; border-bottom: 1px solid #eceff1; padding-bottom: 10px; }

.form-row { display: flex; flex-wrap: wrap; gap: 20px; align-items: flex-end; }
.input-group { flex: 1; min-width: 180px; }
.wide { flex: 2; min-width: 300px; }

.input-group label { display: block; font-size: 0.85rem; font-weight: bold; color: #607d8b; margin-bottom: 5px; }
.input-group input, .input-group select {
    width: 100%; padding: 12px; border: 1px solid #cfd8dc; border-radius: 8px;
    background: #fcfcfc; box-sizing: border-box; font-size: 1rem;
}
.input-group input:focus, .input-group select:focus { border-color: #546e7a; outline: none; background: white; }

.btn-box { display: flex; align-items: flex-end; }
.btn-save {
    background: #263238; color: white; border: none; padding: 12px 25px;
    border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%;
    transition: background 0.2s;
}
.btn-save:hover { background: #37474f; }

/* TABLA */
.table-container { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
table { width: 100%; border-collapse: collapse; }
th { text-align: left; padding: 15px; color: #546e7a; border-bottom: 2px solid #eceff1; font-size: 0.85rem; }
td { padding: 15px; border-bottom: 1px solid #f5f5f5; color: #37474f; }
.text-right { text-align: right; }
.text-center { text-align: center; }

/* Tags de tabla */
.tag { padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; }
.tag-venta { background: #e8f5e9; color: #2e7d32; }
.tag-costo { background: #fff3e0; color: #ef6c00; }
.tag-gasto { background: #ffebee; color: #c62828; }

.btn-del { background: none; border: none; color: #b0bec5; cursor: pointer; font-size: 1rem; }
.btn-del:hover { color: #e53935; }

/* Header Flexible */
.header-utilidad {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #ddd;
}

.badge-date {
    font-size: 0.85rem; background: #eceff1; color: #546e7a;
    padding: 4px 10px; border-radius: 15px; font-weight: bold;
    border: 1px solid #cfd8dc;
}

.btn-search {
    background: #1565c0; color: white; border: none; padding: 10px 20px;
    border-radius: 30px; font-weight: bold; cursor: pointer;
    box-shadow: 0 4px 10px rgba(21, 101, 192, 0.2);
    display: flex; align-items: center; gap: 8px; transition: transform 0.2s;
}
.btn-search:hover { background: #0d47a1; transform: translateY(-2px); }

/* Reutilizamos clases del modal anterior (overlay, content, etc) */
.modal-overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0,0,0,0.5); backdrop-filter: blur(3px);
    display: flex; justify-content: center; align-items: center; z-index: 1000;
}
.modal-content { background: white; border-radius: 12px; overflow: hidden; width: 90%; }
.modal-header-alert { padding: 15px 20px; color: white; display: flex; justify-content: space-between; align-items: center; }
.modal-body { padding: 20px; }
.close-btn-white { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }